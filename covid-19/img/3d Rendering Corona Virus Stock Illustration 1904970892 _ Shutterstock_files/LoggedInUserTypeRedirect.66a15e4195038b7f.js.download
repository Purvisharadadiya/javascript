"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{45340:(e,i,n)=>{n.d(i,{y:()=>U});var r=n(87011),t=n(93096),a=n(92424),l=n(59067),o=n(10707),s=n(26969),d=n(82281),u=n.n(d),c=n(55729),p=n(78524),v=n(30721),w=n(97333),f=/http.*.com/,{publicRuntimeConfig:{assets:{avatarThumbsUrl:_}}}=u()(),U=()=>{var{data:e,isLoading:i}=(0,v.rA)(),{data:n,mutate:d,isLoading:u}=(0,p.M)({queryParams:{site_name:o.ln}}),{data:U,isLoading:g}=(0,w.R)(null==e?void 0:e.id),[E,h]=(0,c.useState)({});if((0,c.useEffect)(()=>{var i="".concat(null==e?void 0:e.id,"-").concat(null==e?void 0:e.organizationId);if((null==e?void 0:e.id)&&(null==U?void 0:U.length)>=1){var n=null==U?void 0:U.find(e=>(null==e?void 0:e.id)===i);n&&h(n)}},[null==e?void 0:e.id,null==e?void 0:e.organizationId,U]),!(null==e?void 0:e.organizationId))return(0,t._)((0,r._)({},e),{userType:(null==e?void 0:e.id)?s.zv:void 0,isEnterpriseUser:!1,workspaces:U});if(i||g||u)return{};var m={},P=null==E?void 0:E.type;if(e){var{roles:y=[]}=e,A=(0,a._)(e,["roles"]);m=(0,t._)((0,r._)({},m,A),{isAdmin:y.includes(l.lc)})}if(n){var{avatarOriginalUrl:b,avatarThumbnailUrl:k}=n;m=(0,t._)((0,r._)({},m),{avatarThumbnailUrl:null==k?void 0:k.replace(f,_),avatarOriginalUrl:b})}return(0,t._)((0,r._)({},m),{mutateOrgSettings:d,isEnterpriseUser:P===s.uX,userType:P,workspaces:U,teamName:null==E?void 0:E.displayName,maxUsers:null==E?void 0:E.maxUsers,currentUserWorkspace:E,setCurrentUserWorkspace:h})}},78524:(e,i,n)=>{n.d(i,{M:()=>p});var r=n(87011),t=n(87519),a=n(85650),l=n(10707),o=n(85374),s=n(30721),d=n(91986),u=n(31950),c=n(84378),p=function(){var{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:i}=(0,s.rA)(),n=(0,r._)({target:a.A_I,site_name:l.RJ,setting_type:a.A_I},e);return(0,d.P)((null==i?void 0:i.id)&&(null==i?void 0:i.organizationId)&&(0,t.h_)({queryParams:n}).formattedUrl,e=>u.Bn.get(e).then(e=>(0,c.A)(e.data)),{dedupingInterval:o.iW})}},88932:(e,i,n)=>{n.r(i),n.d(i,{LoggedInUserTypeRedirect:()=>U});var r=n(87011),t=n(93096),a=n(15407),l=n(54725),o=n(23069),s=n(45340),d=n(17429),u=n(19349),c=n(46887),p=n(82281),v=n.n(p),w=n(55729),{publicRuntimeConfig:{enterpriseBaseUrl:f,shutterstockBaseUrl:_}}=v()(),U=()=>{var e=(0,s.y)(),{isBrandEnterprise:i,isBrandSstk:n}=(0,o.P)(),p=(0,d.P)();return(0,w.useEffect)(()=>{var o,s,d,v,w,U,g,E;if(e&&!p&&(!n||e.isEnterpriseUser)&&(!i||!e.isEnterpriseUser)){if(n&&e.isEnterpriseUser){if(window.location.href.includes(_)){null==(v=window.NREUM)||null==(d=v.addPageAction)||d.call(v,"UP3-1623 assign enterprise url to href",(0,t._)((0,r._)({},window.location||{}),{enterpriseBaseUrl:f,isBrandEnterprise:i,isBrandSstk:n,isEnterpriseUser:e.isEnterpriseUser,shutterstockBaseUrl:_})),window.location.href=window.location.href.replace(_,f);return}null==(s=window.NREUM)||null==(o=s.addPageAction)||o.call(s,"UP3-1623 force the experience into enterprise by reload",(0,r._)((0,t._)((0,r._)({},window.location||{}),{isBrandEnterprise:i,isBrandSstk:n,isEnterpriseUser:e.isEnterpriseUser}),e)),c.A.set(a.bE,a.w8),(0,u.Ld)("entCookieSet");return}if(i&&void 0!==e.userType&&!e.isEnterpriseUser){if(window.location.href.includes(f)){c.A.remove(l.eT),null==(E=window.NREUM)||null==(g=E.addPageAction)||g.call(E,"UP3-1623 force the experience into enterprise by setting the href",(0,r._)((0,t._)((0,r._)({},window.location||{}),{isBrandSstk:n,isBrandEnterprise:i,isEnterpriseUser:e.isEnterpriseUser,enterpriseBaseUrl:f,shutterstockBaseUrl:_}),e)),window.location.href=window.location.href.replace(f,_);return}null==(U=window.NREUM)||null==(w=U.addPageAction)||w.call(U,"UP3-1623 force the experience into www by reload",(0,r._)((0,t._)((0,r._)({},window.location||{}),{isBrandSstk:n,isBrandEnterprise:i,isEnterpriseUser:e.isEnterpriseUser}),e)),c.A.set(a.bE,a.Eq),(0,u.Ld)("sstkCookieSet")}console.log("UP3-1623 this is an unexpected scenario")}},[e,i,n,p]),null}},97333:(e,i,n)=>{n.d(i,{R:()=>d});var r=n(87011),t=n(87519),a=n(17429),l=n(91986),o=n(31950),s=n(84378),d=e=>{var i=(0,a.P)(),n={urlParams:{id:e},queryParams:(0,r._)({},i&&{accept_invite:1})};return(0,l.P)(e?(0,t.k0)(n).formattedUrl:null,e=>o.Bn.get(e).then(e=>{var{data:i}=e;if(i)return(0,s.A)(i)}))}}}]);
//# sourceMappingURL=LoggedInUserTypeRedirect.66a15e4195038b7f.js.map